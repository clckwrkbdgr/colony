- Список спрайтов передаавть в парсер, а не получать из него.
- настройки в файле конфига
- xml профили и сценарий.
- спрайты в одном файле - но полосой, можно указывать индекс.
- спрайты центрировать в ячейке (неподходят по размеру если)
- карты: различные типы карт (гексагональная, радиальная и т.д.)

--------------------------------------------------------------------------------

05.12.2009
- Параметр МАСКА в процедуре загрузки спрайта. Заменена нативной прозрачностью
  загружаемых изображений (путь это будет .png).
- Параметр map из парсера сценария. Вместо парсер имеет размеры карты, которые и
  грузит из файла сценария, их он и возвращает, а в конструкторе окна по им
  создается карта.
- Параметры карты из парсера перенесены в сам сценарий.
- Карту больше не нужно создавать самостоятельно - мир сам ее создает.

Вто Ноя 10 14:27:19 EET 2009
* Файлы кода, относящиеся к Миру только, собраны в папку world.src.
* В ScenarioParser передается при создании не  файл сценария, а папка.
  В отсчете от этой папки парсер ищет файл сценария ("scenario") и все
  остальные: спрайты, профили, и т.д.

Вск Окт 25 13:17:29 EET 2009
+ Функции чтения значений свойств возвращают false тогда и только тогда, когда:
  - пустой список.
  - несовпало имя свойства.
  - имя совпало, но ошибка чтения значения (ошибка конвертации, напр.)
+ В функции чтения профайла переменная ok равна true тогда, когда по прохождении
  всех свойств хоть одно вернуло true. Если же все вернули false, значит,
  либо ошибка встретилась, либо имя свойства незнакомое.
+ Класс ScenarioParser - для загрузки текстового файла сценария и создания
  собственно Сценария, а заодно и списка спрайтов, которые он и возвращает как
  свойства.
- Список имен классов из объявления класса в функцию addProfile - на прежнем
  месте никому не был нужен.
+ Таймер на главную форму и событие таймаута вызывает следующий цикл. Таймер
  переключается пробелом, скорость - клавишами вверх/вниз.
+ Инстанции в файле сценария предваряются словом instance.
+ Новая инструкция файла сценария: map <width> <height>. Карта должна быть и
  должна быть одна.

Суб Окт 24 17:11:48 EEST 2009
+ Функция readIntValue() для парсинга сценария в MainWindow. Читает из списка
  значение заданного имени (целое) и возвращает по ссылке.
+ Аналогичная функция для спрайтов: readSprite - читает имя файла спрайта,
  добавляет его в список спрайтов функцией addSprite и возвращает индекс
  спрайта.
+ Список типов существ в MainWindow для парсинга. Используется при создании
  профилей и добавлении инстанций.
= Проверена работа над ошибками для загрузки сценария из файла.
* Теперь при ошибке загрузке спрайта возвращается не 0, а -1.
  Убрана проверка на ненулевость спрайта в paintEvent. Поскольку там юзается
  value(), то спрайт "-1" - просто пустой спрайт. Ничего не будет выведено.

Вск Окт 18 19:46:42 EEST 2009
+ Функция загрузки профиля из файла. Файл профиля имеет формат:
    ИМЯ_КЛАССА //animal,plant
    СВОЙСТВО ЗНАЧЕНИЕ //именно так, через пробел.
	...
    СВОЙСТВО ЗНАЧЕНИЕ
  Св-во должно принадлежать классу профилей. Если св-во опущено, его значение не
  определено. Лишние строки игнорируются. Никакой проверки ошибок, кроме одной:
  если первая строка - не одно из имен класса (или вообще не существует), то
  возвращается вместо указателя на профиль - нуль.
+ Функция загрузки сценария из файла. Файл сценария имеет формат:
    ИМЯ_КЛАССА НОМЕР_ПРОФИЛЯ_В_СПИСКЕ КОЛИЧЕСТВО
  Имя класса={plant,animal}, иначе - crCreature. Номер профиля не валидируется.
  Количество тоже. Пустой файл сценария - пустой сценарий.
+ Первая строка в файле сценария должна иметь вид:
    floor ИМЯ_ФАЙЛА
  Это загрузить первым элементом списка (если это до этого он был пустой)
  спрайтов некое изображение. Спрайт с номером 0 считается спрайтом пола, и к
  нему не применятся маска.
+ В файле сценария профиль теперь определяется не индексом в списке профилей,
  а именем файла профиля, а уж в сам сценарий добавляется как индекс, используя
  как посредника-буфер список строк-имен файлов профилей. При этом отлавливается
  существование профиля в списке при попытке добавления его еще раз.
+ Функция addSprite(fileName) [private] для добавления спрайтов с проверкой
  уже-существования. Рекомендуется пользоваться именно ей, а не доступом к 
  спискам spriteList и spriteFileList напрямую.
+ В файле профиля спрайты теперь определяются не индексом в списке спрайтов,
  а именем файла изображения, а уж в сам сценарий добавляется как индекс,
  используя как посредника-буфер список строк-имен файлов спрайтов. При этом
  отлавливается существование спрайта в списке при попытке добавления его еще
  раз.
+ При добавлении спрайта addSprite появился новый параметр - bool makeMask.
  Он управляет созданием маски для спрайта (читай "прозрачности").
= Теперь параметры всей программы для создания Мира - размер и файл сценария.

Вто Окт 13 21:24:46 EEST 2009
+ Создание сценария в MainWindow() и передача его миру.

Вск Окт 11 15:55:43 EEST 2009
+ Спрайты графические: grass.bmp - для подножки и 0 спрайта;
  animal.bmp, plant.bmp, dead.bmp - соответственно.

Птн Окт  9 16:33:05 EEST 2009
= Первая рабочая версия - выводит на worldView матрицу карты с кружками разного
  цвета. Три кнопки: создать мир, следующий жизненный цикл, рисовать мир.
  Объект Мир принадлежит виджету worldView, который и управляет им.
- Убран виджет WorldView, графический вывод направлен на контекст окна, сигнал
  для следующего цикла принимается как щелчок мышкой.

Чтв Окт  8 21:36:14 EEST 2009
= Создан тестовый экземпляр класса при создании окна, удален при удалении окна.
